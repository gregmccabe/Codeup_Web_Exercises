<!doctype html>
<html>
<head>
    <title>Whack a Mole</title>
    <link rel="stylesheet" href="/css/whack-stylesheet.css">
    <script src="/js/jquery-2.1.1.js"></script>
</head>
<body>
    <!-- <h1>Whack-A-Mole!</h1> -->
    <div id="header">
        <h1>Whack-A-Mole</h1>
        <h2 id="timer">30</h2>
        <h2 id="running_total">0</h2>
        <span><button id="start_button">START GAME</button></span>
    </div>

    <div class="gameBoard">
        <div class="box">
            <div class="mole" id="mole-1"></div>
        </div>
        <div class="box">
            <div class="mole" id="mole-2"></div>
        </div>
        <div class="box">
            <div class="mole" id="mole-3"></div>
        </div>
        <div class="box">
            <div class="mole" id="mole-4"></div>
        </div>
        <div class="box">
            <div class="mole" id="mole-5"></div>
        </div>
        <div class="box">
            <div class="mole" id="mole-6"></div>
        </div>
        <div class="box">
            <div class="mole" id="mole-7"></div>
        </div>
        <div class="box">
            <div class="mole" id="mole-8"></div>
        </div>
        <div class="box">
            <div class="mole" id="mole-9"></div>
        </div>
    </div>
    <script>

        var score = 0;
        var timer = 30;
        var randNumber = null;
        var holes = $('.box');
        var intervalId = null;
        var timeInt = null;

        console.log($(timer));

        var show = function() {
            $('.mole').fadeOut();
            var rand = Math.floor(Math.random() * holes.length);
            var hole = $(holes[rand]);
            hole.children().fadeIn();
        };

        $('#start_button').click(function() {

            clearInterval(intervalId);
            clearInterval(timeInt);

            intervalId = setInterval(show, 1000);
            $('.mole').click(function() {
                $('#running_total').html(++score);
                $(this).hide();
            });

            timeInt = setInterval(function() {
                $("#timer").html(--timer);
                if ($("#timer").html() == 0) {
                    clearInterval(timeInt);
                    clearInterval(intervalId);
                    alert("Your score is " + score + "! Great job!");
                    $(".mole").hide();
                    $("#timer").html(30);
                }
            }, 1000);

        });
    </script>
</body>
</html>
